{"mappings":"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","sources":["src/js/library-JS/refs-lib.js","src/js/library-JS/renderLocalStoreg.js","src/js/library-JS/render_modalLira.js","src/js/library-JS/index-lib.js","src/js/library-JS/logic_render.js","src/js/library-JS/removeCardMyLibr/remove_card.js","src/js/library-JS/removeCardMyLibr/logicRemoveCard.js","src/js/library-JS/removeCard_lib.js","src/js/library-JS/removeCardMyLibr/trogleClass_btn.js","src/js/library-JS/updateCardMylibr/update_button_lib.js","src/js/library-JS/updateCardMylibr/update_card_lib.js","src/js/library-JS/updateCardMylibr/arr_card_update.js"],"sourcesContent":["export const refsLib = {\n  title: document.querySelector('#titel-list'),\n  titleLib: document.querySelector('#titel-list-lib'),\n  backDrop: document.querySelector('.backdrop'),\n  btnAddWatched: document.querySelector(\n    'button[data-action=\"add-to-watched-lib\"]'\n  ),\n  btnQueve: document.querySelector('button[data-action=\"queve-lib\"]'),\n  poster: document.querySelector('#poster'),\n};\n","const WATCH = 'watch';\nconst QUEVE = 'queve';\nimport { watf } from './logic_render';\nimport { refsLib } from './refs-lib';\n\nfunction renderQueveList(e) {\n  localStorage.setItem('find-tru-page', JSON.stringify('queve'));\n  trogle(e.target.name);\n  watf(QUEVE);\n}\nfunction renderWatchList(e) {\n  localStorage.setItem('find-tru-page', JSON.stringify('watch'));\n  trogle(e.target.name);\n  watf(WATCH);\n}\n\nexport function renderListAddWatch({\n  filmsName,\n  filmsImg,\n  filmRelise,\n  filmGanre,\n  filmRait,\n  id,\n}) {\n  const genre = genrArr(filmGanre);\n  return `\n  <li class=\"list--title\">\n          <img name=\"${id}\" src=\"https://image.tmdb.org/t/p/w500${filmsImg}\" alt=\"${filmsName}\" />\n        <div class=\"conteiner--image__title\">\n          <p class=\"image--title\">\n            ${filmsName} <br />\n            <div class=\"list--ganre_date--conteiner\">\n            <span class=\"image--text\">\n              ${genre} | ${filmRelise}\n            </span>\n            <span class=\"rait\">${filmRait.toFixed(2)}</span>\n            </div>\n          </p>\n        </div>\n      </li>\n    `;\n}\n\nfunction genrArr(genr) {\n  let genrLe = [];\n  genr.map(item => genrLe.push(item.name));\n  if (genrLe.length > 2) {\n    genrLe.splice(2, 3);\n  }\n  return genrLe.join(' ');\n}\n\nfunction trogle(name) {\n  if (name === 'watched') {\n    refsLib.btnQueve.classList.remove('active');\n    refsLib.btnAddWatched.classList.add('active');\n    return;\n  }\n  if (name === 'queve') {\n    refsLib.btnAddWatched.classList.remove('active');\n    refsLib.btnQueve.classList.add('active');\n    return;\n  }\n}\n\n//\nrefsLib.btnAddWatched.addEventListener('click', renderWatchList);\nrefsLib.btnQueve.addEventListener('click', renderQueveList);\n","import { refsLib } from './refs-lib';\nimport { renderModalMovies_lib } from './index-lib';\nexport function onGetCard_lib() {\n  for (let card of refsLib.titleLib.children) {\n    card.addEventListener('click', onOpenModal_lib);\n  }\n}\n\nexport function onOpenModal_lib(e) {\n  refsLib.backDrop.classList.remove('is-hidden');\n  refsLib.backDrop.addEventListener('click', onClickClose_lib);\n  if (!refsLib.backDrop.classList.contains('is-hidden')) {\n    onEscapeClose_lib();\n  }\n  if (refsLib.backDrop.classList.contains('is-hidden')) {\n    refsLib.backDrop.removeEventListener('click', onClickClose_lib);\n  }\n  renderModalMovies_lib(parseInt(e.target.name));\n}\n\nfunction onClickClose_lib(e) {\n  if (e.target.className === 'backdrop') {\n    refsLib.backDrop.classList.add('is-hidden');\n  }\n}\n\nexport function onEscapeClose_lib() {\n  window.addEventListener('keydown', onCloseModalEscape_lib, { once: true });\n}\n\nfunction onCloseModalEscape_lib(e) {\n  if (e.code === 'Escape') return refsLib.backDrop.classList.add('is-hidden');\n}\n","import './removeCard_lib';\nimport '../mainCreateRes';\nimport './localStor-addToWatch';\nimport './renderLocalStoreg';\nimport './render_modalLira';\nimport './updateCardMylibr/update_card_lib';\nimport './updateCardMylibr/update_button_lib';\nimport { refsLib } from './refs-lib';\nimport { removeCardModal } from './removeCard_lib';\nimport { renderModal_Lib } from './modal-libr';\nimport { getIdMovies } from '../mainCreateRes';\nimport { localSave_lib } from './updateCardMylibr/arr_card_update';\nimport { updateCardModal } from './updateCardMylibr/update_card_lib';\nimport { onClickMyLibraryBtn } from './logic_render';\n//\nexport function renderModalMovies_lib(query) {\n  let g = [];\n  getIdMovies(query)\n    .then(({ data }) => {\n      data.genres.filter(item => {\n        g.push(item.name);\n        return g;\n      });\n      refsLib.backDrop.innerHTML = '';\n      refsLib.backDrop.insertAdjacentHTML(\n        'beforeend',\n        renderModal_Lib(data, g)\n      );\n      updateCardModal(localSave_lib(data));\n      removeCardModal(data);\n    })\n    .catch(console.error);\n}\nlocalStorage.setItem('find-tru-page', JSON.stringify('watch'));\nonClickMyLibraryBtn('watch');\n","import { refsLib } from './refs-lib';\nimport { renderListAddWatch } from './renderLocalStoreg';\nimport { onGetCard_lib } from './render_modalLira';\nexport function watf(KEY) {\n  refsLib.titleLib.innerHTML = '';\n  JSON.parse(localStorage.getItem(KEY)).map(arr => {\n    refsLib.titleLib.insertAdjacentHTML('beforeend', renderListAddWatch(arr));\n    onGetCard_lib();\n  });\n}\n\nexport function onClickMyLibraryBtn(KEY) {\n  if (JSON.parse(localStorage.getItem('watch')).length < 1) {\n    refsLib.poster.classList.remove('dis');\n    return;\n  }\n  refsLib.poster.classList.add('dis');\n  refsLib.btnAddWatched.classList.add('active');\n  watf('watch');\n}\n","import { findRemoveCard } from './logicRemoveCard';\n\nexport function removeWatch(data) {\n  return findRemoveCard('watch', data);\n}\n\nexport function removeQueve(data) {\n  return findRemoveCard('queve', data);\n}\n","import { watf } from '../logic_render';\nimport { refsLib } from '../refs-lib';\nimport { removeWatch, removeQueve } from './remove_card';\nexport function createRemove(listenerWatch, listenerQueve, data) {\n  listenerWatch.addEventListener('click', e => {\n    console.log(e.target);\n    removeWatch(data);\n  });\n  listenerQueve.addEventListener('click', e => {\n    console.log(e.target);\n    removeQueve(data);\n  });\n}\n\nexport function findRemoveCard(KEY, data) {\n  let totalFilm = [];\n  console.log(KEY);\n  JSON.parse(localStorage.getItem(KEY)).filter(item => {\n    if (item.id !== data.id) {\n      return totalFilm.push(item);\n    }\n  });\n  localStorage.removeItem(KEY);\n  localStorage.setItem(KEY, JSON.stringify(totalFilm));\n  refsLib.backDrop.classList.add('is-hidden');\n  watf(KEY);\n}\n","import { createRemove } from './removeCardMyLibr/logicRemoveCard';\nimport { onActiveBtnLibr } from './removeCardMyLibr/trogleClass_btn';\n\nexport function removeCardModal(data) {\n  const refsFunc = {\n    btnWt: document.querySelector('button[data-action=\"add-to-watch\"]'),\n    btnQueve: document.querySelector('button[data-action=\"queve\"]'),\n    btnRemoveWatch: document.querySelector('button[data-action=\"removeWatch\"]'),\n    btnRemoveQueve: document.querySelector('button[data-action=\"removeQueve\"]'),\n  };\n  onActiveBtnLibr(data, refsFunc);\n  createRemove(refsFunc.btnRemoveWatch, refsFunc.btnRemoveQueve, data);\n}\n","export function onActiveBtnLibr(\n  data,\n  { btnWt, btnQueve, btnRemoveWatch, btnRemoveQueve }\n) {\n  const findPage = JSON.parse(localStorage.getItem('find-tru-page'));\n  if (findPage === 'watch') {\n    btnWt.classList.add('opaciti');\n    btnRemoveWatch.classList.remove('opaciti');\n    btnRemoveWatch.classList.add('remove');\n    return;\n  }\n  if (findPage === 'queve') {\n    btnQueve.classList.add('opaciti');\n    btnRemoveQueve.classList.remove('opaciti');\n    btnRemoveQueve.classList.add('remove');\n    return;\n  }\n}\n","export function updateToQueve(listener, data, KEY_WATHC, KEY_QUEVE) {\n  listener.addEventListener('click', e => {\n    let watch = [];\n    let queve = [];\n    queve = JSON.parse(localStorage.getItem(KEY_QUEVE));\n    watch = JSON.parse(localStorage.getItem(KEY_WATHC)) || [];\n    if (\n      queve.map(item => item.id).includes(data.id) &&\n      !watch.map(item => item.id).includes(data.id)\n    ) {\n      watch.push(data);\n    }\n    localStorage.removeItem(KEY_WATHC);\n    localStorage.setItem(KEY_WATHC, JSON.stringify(watch));\n  });\n}\n\nexport function updateToWatch(listener, data, KEY_WATHC, KEY_QUEVE) {\n  listener.addEventListener('click', e => {\n    let watch = [];\n    let queve = [];\n    watch = JSON.parse(localStorage.getItem(KEY_WATHC));\n    queve = JSON.parse(localStorage.getItem(KEY_QUEVE)) || [];\n    if (\n      !queve.map(item => item.id).includes(data.id) &&\n      watch.map(item => item.id).includes(data.id)\n    ) {\n      queve.push(data);\n    }\n    localStorage.removeItem(KEY_QUEVE);\n    localStorage.setItem(KEY_QUEVE, JSON.stringify(queve));\n  });\n}\n","import { updateToQueve, updateToWatch } from './update_button_lib';\n\nexport function updateCardModal(data) {\n  const refsFunc = {\n    btnWt: document.querySelector('button[data-action=\"add-to-watch\"]'),\n    btnQueve: document.querySelector('button[data-action=\"queve\"]'),\n    btnRemoveCard: document.querySelector('button[data-action=\"remove\"]'),\n  };\n  const WATCH = 'watch';\n  const QUEVE = 'queve';\n  updateToQueve(refsFunc.btnWt, data, WATCH, QUEVE);\n  updateToWatch(refsFunc.btnQueve, data, WATCH, QUEVE);\n}\n","export function localSave_lib(data) {\n  const year = new Date(data.release_date).getFullYear();\n  const localSave = {\n    filmsName: data.original_title,\n    filmsImg: data.poster_path,\n    filmRelise: year,\n    filmGanre: data.genres,\n    filmRait: data.vote_average,\n    id: data.id,\n  };\n\n  return localSave;\n}\n"],"names":["$92723afb85fd5b0f$export$b4d36add32d66208","title","document","querySelector","titleLib","backDrop","btnAddWatched","btnQueve","poster","$d256d5532bf805b9$var$trogle","name","classList","remove","add","$7a3caf9abd1c0156$export$dd7e79780f6e5ca3","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","children","Symbol","iterator","next","done","value","addEventListener","$7a3caf9abd1c0156$export$28908874da8ee619","err","return","e","query","g","$7a3caf9abd1c0156$var$onClickClose_lib","contains","window","$7a3caf9abd1c0156$var$onCloseModalEscape_lib","once","removeEventListener","parseInt","target","$gbT2k","getIdMovies","then","param","data","genres","filter","item","push","innerHTML","insertAdjacentHTML","$gQM3s","renderModal_Lib","$ea041922fc5a0ca5$export$6096f0052fba91b4","$08b9329826badd26$export$796b505cbb7f71df","$d93cc4575cf4eb58$export$465738fdb5ae37b5","catch","console","error","className","code","$6e797fc035f0ef45$export$ac81940869f1101c","KEY","JSON","parse","localStorage","getItem","map","arr","genrLe","filmsName","filmsImg","filmRelise","filmGanre","filmRait","id","genre","length","splice","join","concat","toFixed","$ebe7d4c7a3fa839f$export$bd94e21253c43f67","$32c8f2ad23fc68b5$export$e5a0a57b6ea1970b","$ebe7d4c7a3fa839f$export$9fd0bc10d1d39915","$32c8f2ad23fc68b5$export$73013ca153577d59","listenerWatch","listenerQueve","log","totalFilm","removeItem","setItem","stringify","btnWt","btnRemoveWatch","btnRemoveQueve","findPage","refsFunc","$9fa39c0010cba7d3$export$7b8b122c6feadb41","listener","KEY_WATHC","KEY_QUEVE","watch","queve","includes","$9fa39c0010cba7d3$export$e3528edfadd579d9","btnRemoveCard","WATCH","QUEVE","year","Date","release_date","getFullYear","original_title","poster_path","vote_average"],"version":3,"file":"myLibrary.24b6da1c.js.map"}