{"mappings":"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","sources":["src/js/library-JS/refs-lib.js","src/js/library-JS/render_modalLira.js","src/js/library-JS/index-lib.js","src/js/library-JS/renderLocalStoreg.js","src/js/library-JS/removeCardMyLibr/logicRemoveCard.js","src/js/library-JS/removeCardMyLibr/trogleClass_btn.js","src/js/library-JS/removeCard_lib.js"],"sourcesContent":["export const refsLib = {\n  title: document.querySelector('#titel-list'),\n  titleLib: document.querySelector('#titel-list-lib'),\n  backDrop: document.querySelector('.backdrop'),\n  btnAddWatched: document.querySelector(\n    'button[data-action=\"add-to-watched-lib\"]'\n  ),\n  btnQueve: document.querySelector('button[data-action=\"queve-lib\"]'),\n};\n","import { refsLib } from './refs-lib';\nimport { renderModalMovies_lib } from './index-lib';\nexport function onGetCard_lib(e) {\n  for (let card of refsLib.titleLib.children) {\n    card.addEventListener('click', onOpenModal_lib);\n  }\n}\n\nexport function onOpenModal_lib(e) {\n  refsLib.backDrop.classList.remove('is-hidden');\n  refsLib.backDrop.addEventListener('click', onClickClose_lib);\n  if (!refsLib.backDrop.classList.contains('is-hidden')) {\n    onEscapeClose_lib();\n  }\n  if (refsLib.backDrop.classList.contains('is-hidden')) {\n    refsLib.backDrop.removeEventListener('click', onClickClose_lib);\n  }\n  renderModalMovies_lib(parseInt(e.target.name));\n}\n\nfunction onClickClose_lib(e) {\n  if (e.target.className === 'backdrop') {\n    refsLib.backDrop.classList.add('is-hidden');\n  }\n}\n\nexport function onEscapeClose_lib() {\n  window.addEventListener('keydown', onCloseModalEscape_lib, { once: true });\n}\n\nfunction onCloseModalEscape_lib(e) {\n  if (e.code === 'Escape') return refsLib.backDrop.classList.add('is-hidden');\n}\n","import { refsLib } from './refs-lib';\nimport './removeCard_lib';\nimport '../mainCreateRes';\nimport './localStor-addToWatch';\nimport './renderLocalStoreg';\nimport './render_modalLira';\nimport { renderModal_Lib } from './modal-libr';\nimport { getIdMovies } from '../mainCreateRes';\nimport removeCardModal from './removeCard_lib';\n\nexport function renderModalMovies_lib(query) {\n  let g = [];\n  getIdMovies(query)\n    .then(({ data }) => {\n      data.genres.filter(item => {\n        g.push(item.name);\n        return g;\n      });\n      refsLib.backDrop.innerHTML = '';\n      refsLib.backDrop.insertAdjacentHTML(\n        'beforeend',\n        renderModal_Lib(data, g)\n      );\n      removeCardModal(data);\n    })\n    .catch(console.error);\n}\n","import { refsLib } from './refs-lib';\nimport { onGetCard_lib } from './render_modalLira';\nfunction renderQueveList(e) {\n  trogle(e.target.name);\n\n  const KEY = Object.keys(localStorage);\n  watf(KEY[0]);\n}\nfunction renderWatchList(e) {\n  trogle(e.target.name);\n\n  const KEY = Object.keys(localStorage);\n  watf(KEY[1]);\n}\n\nfunction renderListAddWatch({\n  filmsName,\n  filmsImg,\n  filmRelise,\n  filmGanre,\n  filmRait,\n  id,\n}) {\n  const genre = genrArr(filmGanre);\n  return `\n  <li class=\"list--title\">\n          <img name=\"${id}\" src=\"https://image.tmdb.org/t/p/w500${filmsImg}\" alt=\"${filmsName}\" />\n        <div class=\"conteiner--image__title\">\n          <p class=\"image--title\">\n            ${filmsName} <br />\n            <div class=\"list--ganre_date--conteiner\">\n            <span class=\"image--text\">\n              ${genre} | ${filmRelise}\n            </span>\n            <span class=\"rait\">${filmRait.toFixed(2)}</span>\n            </div>\n          </p>\n        </div>\n      </li>\n    `;\n}\n\nfunction genrArr(genr) {\n  let genrLe = [];\n  genr.map(item => genrLe.push(item.name));\n  if (genrLe.length > 2) {\n    genrLe.splice(2, 3);\n  }\n  return genrLe.join(' ');\n}\n\nfunction trogle(name) {\n  if (name === 'watched') {\n    refsLib.btnQueve.classList.remove('active');\n    refsLib.btnAddWatched.classList.add('active');\n    return;\n  }\n  if (name === 'queve') {\n    refsLib.btnAddWatched.classList.remove('active');\n    refsLib.btnQueve.classList.add('active');\n    return;\n  }\n}\n\nexport function watf(KEY) {\n  refsLib.titleLib.innerHTML = '';\n  const getJs = localStorage.getItem(KEY);\n  const parse = JSON.parse(getJs);\n  parse.map(arr => {\n    refsLib.titleLib.insertAdjacentHTML('beforeend', renderListAddWatch(arr));\n    onGetCard_lib(arr);\n  });\n}\n//\nrefsLib.btnAddWatched.addEventListener('click', renderWatchList);\nrefsLib.btnQueve.addEventListener('click', renderQueveList);\n","import { refsLib } from '../refs-lib';\nimport { watf } from '../renderLocalStoreg';\nexport function createRemoveQueve(listener, data, KEY) {\n  listener.addEventListener('click', () => {\n    let totalFilm = [];\n    JSON.parse(localStorage.getItem(KEY[0])).filter(item => {\n      if (item.id !== data.id) {\n        return totalFilm.push(item);\n      }\n    });\n    localStorage.removeItem(KEY[0]);\n    localStorage.setItem(KEY[0], JSON.stringify(totalFilm));\n    refsLib.backDrop.classList.add('is-hidden');\n    watf(KEY[0]);\n  });\n}\n\nexport function createRemoveWathc(listener, data, KEY) {\n  listener.addEventListener('click', () => {\n    let totalFilm = [];\n    JSON.parse(localStorage.getItem(KEY[1])).filter(item => {\n      if (item.id !== data.id) {\n        return totalFilm.push(item);\n      }\n    });\n    localStorage.removeItem(KEY[1]);\n    localStorage.setItem(KEY[1], JSON.stringify(totalFilm));\n    refsLib.backDrop.classList.add('is-hidden');\n    watf(KEY[1]);\n  });\n}\n","export default function onActiveBtnLibr(\n  data,\n  KEY,\n  { btnWt, btnQueve, btnRemoveCard }\n) {\n  if (\n    JSON.parse(localStorage.getItem(KEY[0]))\n      .map(item => item.id)\n      .includes(data.id)\n  ) {\n    btnQueve.classList.add('active');\n    btnWt.classList.add('opaciti');\n    btnRemoveCard.classList.remove('opaciti');\n    btnRemoveCard.classList.add('remove');\n    return;\n  }\n  if (\n    JSON.parse(localStorage.getItem(KEY[1]))\n      .map(item => item.id)\n      .includes(data.id)\n  ) {\n    btnQueve.classList.add('opaciti');\n    btnWt.classList.add('active');\n    btnRemoveCard.classList.remove('opaciti');\n    btnRemoveCard.classList.add('remove');\n    return;\n  }\n}\n","import {\n  createRemoveQueve,\n  createRemoveWathc,\n} from './removeCardMyLibr/logicRemoveCard';\n\nimport onActiveBtnLibr from './removeCardMyLibr/trogleClass_btn';\n\nexport default function removeCardModal(data) {\n  const refsFunc = {\n    btnWt: document.querySelector('button[data-action=\"add-to-watch\"]'),\n    btnQueve: document.querySelector('button[data-action=\"queve\"]'),\n    btnRemoveCard: document.querySelector('button[data-action=\"remove\"]'),\n  };\n  onActiveBtnLibr(data, Object.keys(localStorage), refsFunc);\n  createRemoveWathc(refsFunc.btnRemoveCard, data, Object.keys(localStorage));\n  createRemoveQueve(refsFunc.btnRemoveCard, data, Object.keys(localStorage));\n}\n"],"names":["$92723afb85fd5b0f$export$b4d36add32d66208","title","document","querySelector","titleLib","backDrop","btnAddWatched","btnQueve","$7a3caf9abd1c0156$export$dd7e79780f6e5ca3","e","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","children","Symbol","iterator","next","done","value","addEventListener","$7a3caf9abd1c0156$export$28908874da8ee619","err","return","query","g","classList","remove","$7a3caf9abd1c0156$var$onClickClose_lib","contains","window","$7a3caf9abd1c0156$var$onCloseModalEscape_lib","once","removeEventListener","parseInt","target","name","$gbT2k","getIdMovies","then","param","data","genres","filter","item","push","innerHTML","insertAdjacentHTML","$gQM3s","renderModal_Lib","$d93cc4575cf4eb58$export$2e2bcd8739ae039","catch","console","error","className","add","code","$d256d5532bf805b9$var$trogle","$d256d5532bf805b9$export$ac81940869f1101c","KEY","getJs","localStorage","getItem","JSON","parse","map","arr","filmsName","filmsImg","filmRelise","filmGanre","filmRait","id","genre","genrLe","length","splice","join","concat","toFixed","$32c8f2ad23fc68b5$export$ddec47f838cca1f6","listener","totalFilm","removeItem","setItem","stringify","$32c8f2ad23fc68b5$export$98d67d67914b37fa","$41bc7dd8434c5ac6$export$2e2bcd8739ae039","btnWt","btnRemoveCard","includes","refsFunc","Object","keys"],"version":3,"file":"myLibrary.c0f24449.js.map"}