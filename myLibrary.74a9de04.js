var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);const i={title:document.querySelector("#titel-list"),titleLib:document.querySelector("#titel-list-lib"),backDrop:document.querySelector(".backdrop"),btnAddWatched:document.querySelector('button[data-action="add-to-watched-lib"]'),btnQueve:document.querySelector('button[data-action="queve-lib"]')};function l(e){for(let e of i.titleLib.children)e.addEventListener("click",s)}function s(e){i.backDrop.classList.remove("is-hidden"),i.backDrop.addEventListener("click",o),i.backDrop.classList.contains("is-hidden")||window.addEventListener("keydown",c,{once:!0}),i.backDrop.classList.contains("is-hidden")&&i.backDrop.removeEventListener("click",o),f(parseInt(e.target.name))}function o(e){"backdrop"===e.target.className&&i.backDrop.classList.add("is-hidden")}function c(e){if("Escape"===e.code)return i.backDrop.classList.add("is-hidden")}function d(e){return"watched"===e?(i.btnQueve.classList.remove("active"),void i.btnAddWatched.classList.add("active")):"queve"===e?(i.btnAddWatched.classList.remove("active"),void i.btnQueve.classList.add("active")):void 0}function r(e){i.titleLib.innerHTML="";const t=localStorage.getItem(e);JSON.parse(t).map((e=>{i.titleLib.insertAdjacentHTML("beforeend",function({filmsName:e,filmsImg:t,filmRelise:n,filmGanre:a,filmRait:i,id:l}){return`\n  <li class="list--title">\n          <img name="${l}" src="https://image.tmdb.org/t/p/w500${t}" alt="${e}" />\n        <div class="conteiner--image__title">\n          <p class="image--title">\n            ${e} <br /><span class="image--text">\n              ${a.name} | ${n}\n            </span>\n            <span class="rait">${i.toFixed(2)}</span>\n          </p>\n        </div>\n      </li>\n    `}(e)),l()}))}function u(e,t,n){e.addEventListener("click",(()=>{let e=[];JSON.parse(localStorage.getItem(n[0])).filter((n=>{if(n.id!==t.id)return e.push(n)})),localStorage.removeItem(n[0]),localStorage.setItem(n[0],JSON.stringify(e)),i.backDrop.classList.add("is-hidden"),r(n[0])}))}function m(e,t,n){e.addEventListener("click",(()=>{let e=[];JSON.parse(localStorage.getItem(n[1])).filter((n=>{if(n.id!==t.id)return e.push(n)})),localStorage.removeItem(n[1]),localStorage.setItem(n[1],JSON.stringify(e)),i.backDrop.classList.add("is-hidden"),r(n[1])}))}function v(e,t,{btnWt:n,btnQueve:a,btnRemoveCard:i}){return JSON.parse(localStorage.getItem(t[0])).map((e=>e.id)).includes(e.id)?(a.classList.add("active"),n.classList.add("opaciti"),i.classList.remove("opaciti"),void i.classList.add("remove")):JSON.parse(localStorage.getItem(t[1])).map((e=>e.id)).includes(e.id)?(a.classList.add("opaciti"),n.classList.add("active"),i.classList.remove("opaciti"),void i.classList.add("remove")):void 0}function p(e){const t={btnWt:document.querySelector('button[data-action="add-to-watch"]'),btnQueve:document.querySelector('button[data-action="queve"]'),btnRemoveCard:document.querySelector('button[data-action="remove"]')};v(e,Object.keys(localStorage),t),m(t.btnRemoveCard,e,Object.keys(localStorage)),u(t.btnRemoveCard,e,Object.keys(localStorage))}i.btnAddWatched.addEventListener("click",(function(e){d(e.target.name),r(Object.keys(localStorage)[1])})),i.btnQueve.addEventListener("click",(function(e){d(e.target.name),r(Object.keys(localStorage)[0])}));var b=a("cjwWu");function g({poster_path:e,original_title:t,overview:n,popularity:a,vote_average:i,vote_count:l},s){return`\n  <div class="modal">\n      <svg class="modal--icon"  width="30" height="30" viewBox="0 0 30 30" fill="white" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n            <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n        </svg>\n    <div class="modal--title">\n      <div class="modal--img">\n        <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}"/>\n      </div>\n      <div class="modal--title__info">\n        <h2 class="title--text">${t}</h2>\n        <div class="conteiner--modal__list">\n          <ul class="modal--title__list--left">\n            <li class="list--element">\n              <p>Vote / Votes</p>\n            </li>\n            <li class="list--element">\n              <p>Popularity</p>\n            </li>\n            <li class="list--element">\n              <p>Original Title</p>\n            </li>\n            <li class="list--element">\n              <p>Genre</p>\n            </li>\n          </ul>\n          <ul class="modal--title__list--right">\n            <li class="list--element">\n              <p class="element--value"><span class="rait">${i.toFixed(2)}</span> / ${l.toFixed(2)}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${a.toFixed(2)}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${t}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${s.length<=2?[...s]:[s[0]+" "+s[1]]}</p>\n            </li>\n          </ul>\n        </div>\n        <div class="conteiner--about">\n          <p>ABOUT</p>\n          <p class="about--text">${n}</p>\n        </div>\n        <div class="conteiner--btn">\n          <button class="btn--modal" name="watched" data-action="add-to-watch">add to Watched</button>\n          <button class="btn--modal" name="queve" data-action="queve">add to queue</button>\n          <button class="btn--modal opaciti" name="remove" data-action="remove">Remove Film</button>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    `}a("3ZI3M");b=a("cjwWu");function f(e){console.log(e);let t=[];(0,b.getIdMovies)(e).then((({data:e})=>{e.genres.filter((e=>(t.push(e.name),t))),i.backDrop.innerHTML="",i.backDrop.insertAdjacentHTML("beforeend",g(e,t)),p(e)})).catch(console.error)}
//# sourceMappingURL=myLibrary.74a9de04.js.map
