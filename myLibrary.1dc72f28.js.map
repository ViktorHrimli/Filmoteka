{"mappings":"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","sources":["src/js/library-JS/refs-lib.js","src/js/library-JS/render_modalLira.js","src/js/library-JS/renderLocalStoreg.js","src/js/library-JS/removeCardMyLibr/logicRemoveCard.js","src/js/library-JS/removeCardMyLibr/trogleClass_btn.js","src/js/library-JS/removeCard_lib.js","src/js/library-JS/index-lib.js"],"sourcesContent":["export const refsLib = {\n  title: document.querySelector('#titel-list'),\n  titleLib: document.querySelector('#titel-list-lib'),\n  backDrop: document.querySelector('.backdrop'),\n  btnAddWatched: document.querySelector(\n    'button[data-action=\"add-to-watched-lib\"]'\n  ),\n  btnQueve: document.querySelector('button[data-action=\"queve-lib\"]'),\n};\n","import { refsLib } from './refs-lib';\nimport { renderModalMovies_lib } from './index-lib';\nexport function onGetCard_lib(e) {\n  for (let card of refsLib.titleLib.children) {\n    card.addEventListener('click', onOpenModal_lib);\n  }\n}\n\nexport function onOpenModal_lib(e) {\n  refsLib.backDrop.classList.remove('is-hidden');\n  refsLib.backDrop.addEventListener('click', onClickClose_lib);\n  if (!refsLib.backDrop.classList.contains('is-hidden')) {\n    onEscapeClose_lib();\n  }\n  if (refsLib.backDrop.classList.contains('is-hidden')) {\n    refsLib.backDrop.removeEventListener('click', onClickClose_lib);\n  }\n  renderModalMovies_lib(parseInt(e.target.name));\n}\n\nfunction onClickClose_lib(e) {\n  if (e.target.className === 'backdrop') {\n    refsLib.backDrop.classList.add('is-hidden');\n  }\n}\n\nexport function onEscapeClose_lib() {\n  window.addEventListener('keydown', onCloseModalEscape_lib, { once: true });\n}\n\nfunction onCloseModalEscape_lib(e) {\n  if (e.code === 'Escape') return refsLib.backDrop.classList.add('is-hidden');\n}\n","import { refsLib } from './refs-lib';\nimport { onGetCard_lib } from './render_modalLira';\nfunction renderQueveList(e) {\n  trogle(e.target.name);\n\n  const KEY = Object.keys(localStorage);\n  watf(KEY[0]);\n}\nfunction renderWatchList(e) {\n  trogle(e.target.name);\n\n  const KEY = Object.keys(localStorage);\n  watf(KEY[1]);\n}\n\nfunction renderListAddWatch({\n  filmsName,\n  filmsImg,\n  filmRelise,\n  filmGanre,\n  filmRait,\n  id,\n}) {\n  const genre = genrArr(filmGanre);\n  return `\n  <li class=\"list--title\">\n          <img name=\"${id}\" src=\"https://image.tmdb.org/t/p/w500${filmsImg}\" alt=\"${filmsName}\" />\n        <div class=\"conteiner--image__title\">\n          <p class=\"image--title\">\n            ${filmsName} <br />\n            <div class=\"list--ganre_date--conteiner\">\n            <span class=\"image--text\">\n              ${genre} | ${filmRelise}\n            </span>\n            <span class=\"rait\">${filmRait.toFixed(2)}</span>\n            </div>\n          </p>\n        </div>\n      </li>\n    `;\n}\n\nfunction genrArr(genr) {\n  let genrLe = [];\n  genr.map(item => genrLe.push(item.name));\n  if (genrLe.length > 2) {\n    genrLe.splice(2, 3);\n  }\n  return genrLe.join(' ');\n}\n\nfunction trogle(name) {\n  if (name === 'watched') {\n    refsLib.btnQueve.classList.remove('active');\n    refsLib.btnAddWatched.classList.add('active');\n    return;\n  }\n  if (name === 'queve') {\n    refsLib.btnAddWatched.classList.remove('active');\n    refsLib.btnQueve.classList.add('active');\n    return;\n  }\n}\n\nexport function watf(KEY) {\n  refsLib.titleLib.innerHTML = '';\n  const getJs = localStorage.getItem(KEY);\n  const parse = JSON.parse(getJs);\n  parse.map(arr => {\n    refsLib.titleLib.insertAdjacentHTML('beforeend', renderListAddWatch(arr));\n    onGetCard_lib(arr);\n  });\n}\n//\nrefsLib.btnAddWatched.addEventListener('click', renderWatchList);\nrefsLib.btnQueve.addEventListener('click', renderQueveList);\n","import { refsLib } from '../refs-lib';\nimport { watf } from '../renderLocalStoreg';\nexport function createRemoveQueve(listener, data, KEY) {\n  listener.addEventListener('click', () => {\n    let totalFilm = [];\n    JSON.parse(localStorage.getItem(KEY[0])).filter(item => {\n      if (item.id !== data.id) {\n        return totalFilm.push(item);\n      }\n    });\n    localStorage.removeItem(KEY[0]);\n    localStorage.setItem(KEY[0], JSON.stringify(totalFilm));\n    refsLib.backDrop.classList.add('is-hidden');\n    watf(KEY[0]);\n  });\n}\n\nexport function createRemoveWathc(listener, data, KEY) {\n  listener.addEventListener('click', () => {\n    let totalFilm = [];\n    JSON.parse(localStorage.getItem(KEY[1])).filter(item => {\n      if (item.id !== data.id) {\n        return totalFilm.push(item);\n      }\n    });\n    localStorage.removeItem(KEY[1]);\n    localStorage.setItem(KEY[1], JSON.stringify(totalFilm));\n    refsLib.backDrop.classList.add('is-hidden');\n    watf(KEY[1]);\n  });\n}\n","export default function onActiveBtnLibr(\n  data,\n  KEY,\n  { btnWt, btnQueve, btnRemoveCard }\n) {\n  if (\n    JSON.parse(localStorage.getItem(KEY[0]))\n      .map(item => item.id)\n      .includes(data.id)\n  ) {\n    btnQueve.classList.add('active');\n    btnWt.classList.add('opaciti');\n    btnRemoveCard.classList.remove('opaciti');\n    btnRemoveCard.classList.add('remove');\n    return;\n  }\n  if (\n    JSON.parse(localStorage.getItem(KEY[1]))\n      .map(item => item.id)\n      .includes(data.id)\n  ) {\n    btnQueve.classList.add('opaciti');\n    btnWt.classList.add('active');\n    btnRemoveCard.classList.remove('opaciti');\n    btnRemoveCard.classList.add('remove');\n    return;\n  }\n}\n","import {\n  createRemoveQueve,\n  createRemoveWathc,\n} from './removeCardMyLibr/logicRemoveCard';\n\nimport onActiveBtnLibr from './removeCardMyLibr/trogleClass_btn';\n\nexport default function removeCardModal(data) {\n  const refsFunc = {\n    btnWt: document.querySelector('button[data-action=\"add-to-watch\"]'),\n    btnQueve: document.querySelector('button[data-action=\"queve\"]'),\n    btnRemoveCard: document.querySelector('button[data-action=\"remove\"]'),\n  };\n  onActiveBtnLibr(data, Object.keys(localStorage), refsFunc);\n  createRemoveWathc(refsFunc.btnRemoveCard, data, Object.keys(localStorage));\n  createRemoveQueve(refsFunc.btnRemoveCard, data, Object.keys(localStorage));\n}\n","import { refsLib } from './refs-lib';\nimport './removeCard_lib';\nimport '../mainCreateRes';\nimport './localStor-addToWatch';\nimport './renderLocalStoreg';\nimport './render_modalLira';\nimport { renderModal_Lib } from './modal-libr';\nimport { getIdMovies } from '../mainCreateRes';\nimport removeCardModal from './removeCard_lib';\n\nexport function renderModalMovies_lib(query) {\n  let g = [];\n  getIdMovies(query)\n    .then(({ data }) => {\n      data.genres.filter(item => {\n        g.push(item.name);\n        return g;\n      });\n      refsLib.backDrop.innerHTML = '';\n      refsLib.backDrop.insertAdjacentHTML(\n        'beforeend',\n        renderModal_Lib(data, g)\n      );\n      removeCardModal(data);\n    })\n    .catch(console.error);\n}\n"],"names":["$119d65cfc45fc7af$export$b4d36add32d66208","title","document","querySelector","titleLib","backDrop","btnAddWatched","btnQueve","$1faac083ed1e61a3$export$dd7e79780f6e5ca3","e","card","children","addEventListener","$1faac083ed1e61a3$export$28908874da8ee619","classList","remove","$1faac083ed1e61a3$var$onClickClose_lib","contains","window","$1faac083ed1e61a3$var$onCloseModalEscape_lib","once","removeEventListener","$7f6bb6dda444ac38$export$22ca288d2489f16e","parseInt","target","name","className","add","code","$cce502e0da12211b$var$trogle","$cce502e0da12211b$export$ac81940869f1101c","KEY","innerHTML","getJs","localStorage","getItem","JSON","parse","map","arr","insertAdjacentHTML","filmsName","filmsImg","filmRelise","filmGanre","filmRait","id","genr","genrLe","item","push","length","splice","join","$cce502e0da12211b$var$genrArr","toFixed","$cce502e0da12211b$var$renderListAddWatch","$8fcf95df54f1b8bc$export$ddec47f838cca1f6","listener","data","totalFilm","filter","removeItem","setItem","stringify","$8fcf95df54f1b8bc$export$98d67d67914b37fa","$78f2c9c900aeeea2$export$2e2bcd8739ae039","btnWt","btnRemoveCard","includes","$5c46d078edcda682$export$2e2bcd8739ae039","refsFunc","Object","keys","query","g","$cjwWu","getIdMovies","then","genres","$bBupM","renderModal_Lib","catch","console","error"],"version":3,"file":"myLibrary.1dc72f28.js.map"}