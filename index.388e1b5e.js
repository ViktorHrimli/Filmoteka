var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;function l(e){const t=new Date(e.release_date).getFullYear();return{filmsName:e.original_title,filmsImg:e.poster_path,filmRelise:t,filmGanre:e.genres,filmRait:e.vote_average,id:e.id}}null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,i.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);var a=i("3ZI3M"),s=i("cjwWu");function o({poster_path:e,original_title:t,overview:n,popularity:i,vote_average:l,vote_count:a},s){return`\n  <div class="modal">\n        <svg class="modal--icon"  width="30" height="30" viewBox="0 0 30 30" fill="white" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n            <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n        </svg>\n    <div class="modal--title">\n      <div class="modal--img">\n        <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}"/>\n      </div>\n      <div class="modal--title__info">\n        <h2 class="title--text">${t}</h2>\n        <div class="conteiner--modal__list">\n          <ul class="modal--title__list--left">\n            <li class="list--element">\n              <p>Vote / Votes</p>\n            </li>\n            <li class="list--element">\n              <p>Popularity</p>\n            </li>\n            <li class="list--element">\n              <p>Original Title</p>\n            </li>\n            <li class="list--element">\n              <p>Genre</p>\n            </li>\n          </ul>\n          <ul class="modal--title__list--right">\n            <li class="list--element">\n              <p class="element--value"><span class="rait">${l.toFixed(2)}</span> / ${a.toFixed(2)}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${i.toFixed(2)}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${t}</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">${s.length<=2?[...s]:[s[0]+" "+s[1]]}</p>\n            </li>\n          </ul>\n        </div>\n        <div class="conteiner--about">\n          <p>ABOUT</p>\n          <p class="about--text">${n}</p>\n        </div>\n        <div class="conteiner--btn">\n          <button class="btn--modal" name="watched" data-action="add-to-watch">add to Watched</button>\n          <button class="btn--modal" name="queve" data-action="queve">add to queue</button>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    `}function r({title:e,poster_path:t,genre_ids:n,release_date:i,vote_average:l,name:a,first_air_date:s,id:o},r){const c=function(e,t){if(e)return e;if(t)return t}(a,e),d=function(e,t){const n=parseInt(e.join(" "));let i="";return t.filter((e=>{if(e.id===n)return i+=e.name})),i}(n,r);return`\n  <li class="list--title">\n          <img name="${o}"   src="https://image.tmdb.org/t/p/w500${t}" alt="${c}" />\n        <div class="conteiner--image__title">\n          <p class="image--title">\n            ${c} <br /><span class="image--text">\n              ${d} | ${function(e,t){if(e)return e;if(t)return t}(i,s)}\n            </span>\n            <span class="rait">${l.toFixed(2)}</span>\n          </p>\n        </div>\n      </li>\n    `}const c={title:document.querySelector("#titel-list"),titleLib:document.querySelector("#titel-list-lib"),backDrop:document.querySelector(".backdrop"),btnAddWatched:document.querySelector('button[data-action="add-to-watched-lib"]'),btnQueve:document.querySelector('button[data-action="queve-lib"]')};function d(e){for(let e of c.title.children)e.addEventListener("click",p)}function p(e){c.backDrop.classList.remove("is-hidden"),c.backDrop.addEventListener("click",u),c.backDrop.classList.contains("is-hidden")||window.addEventListener("keydown",m,{once:!0}),c.backDrop.classList.contains("is-hidden")&&c.backDrop.removeEventListener("click",u),f(parseInt(e.target.name))}function u(e){"backdrop"===e.target.className&&c.backDrop.classList.add("is-hidden")}function m(e){if("Escape"===e.code)return c.backDrop.classList.add("is-hidden")}let v;function f(e){let t=[];(0,s.getIdMovies)(e).then((({data:e})=>{e.genres.filter((e=>(t.push(e.name),t))),c.backDrop.innerHTML="",c.backDrop.insertAdjacentHTML("beforeend",o(e,t)),(0,a.default)(l(e))})).catch(console.error)}Promise.all([(0,s.createResponseTitleTrend)(),(0,s.getIdsGenres)()]).then((([{data:{results:e}},{data:{genres:t}}])=>{v=t,e.map((e=>{c.title.insertAdjacentHTML("afterbegin",r(e,v))})),d()}));
//# sourceMappingURL=index.388e1b5e.js.map
