{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","src/js/library-JS/data_local_storeg.js","src/js/renderInfoModal.js","src/js/renderTrendTitle.js","src/js/refs.js","src/index.js","src/js/onOpenModal.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export default function creteDataLocalSave(data) {\n  const year = new Date(data.release_date).getFullYear();\n  const localSave = {\n    filmsName: data.original_title,\n    filmsImg: data.poster_path,\n    filmRelise: year,\n    filmGanre: data.genres,\n    filmRait: data.vote_average,\n    id: data.id,\n  };\n\n  return localSave;\n}\n","export function renderModal(\n  {\n    poster_path,\n    original_title,\n    overview,\n    popularity,\n    vote_average,\n    vote_count,\n  },\n  genr\n) {\n  return `\n  <div class=\"modal\">\n        <svg class=\"modal--icon\"  width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M8 8L22 22\" stroke=\"black\" stroke-width=\"2\"/>\n            <path d=\"M8 22L22 8\" stroke=\"black\" stroke-width=\"2\"/>\n        </svg>\n    <div class=\"modal--title\">\n      <div class=\"modal--img\">\n        <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${original_title}\"/>\n      </div>\n      <div class=\"modal--title__info\">\n        <h2 class=\"title--text\">${original_title}</h2>\n        <div class=\"conteiner--modal__list\">\n          <ul class=\"modal--title__list--left\">\n            <li class=\"list--element\">\n              <p>Vote / Votes</p>\n            </li>\n            <li class=\"list--element\">\n              <p>Popularity</p>\n            </li>\n            <li class=\"list--element\">\n              <p>Original Title</p>\n            </li>\n            <li class=\"list--element\">\n              <p>Genre</p>\n            </li>\n          </ul>\n          <ul class=\"modal--title__list--right\">\n            <li class=\"list--element\">\n              <p class=\"element--value\"><span class=\"rait\">${vote_average.toFixed(\n                2\n              )}</span> / ${vote_count.toFixed(2)}</p>\n            </li>\n            <li class=\"list--element\">\n              <p class=\"element--value\">${popularity.toFixed(2)}</p>\n            </li>\n            <li class=\"list--element\">\n              <p class=\"element--value\">${original_title}</p>\n            </li>\n            <li class=\"list--element\">\n              <p class=\"element--value\">${\n                genr.length <= 2 ? [...genr] : [genr[0] + ' ' + genr[1]]\n              }</p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"conteiner--about\">\n          <p>ABOUT</p>\n          <p class=\"about--text\">${overview}</p>\n        </div>\n        <div class=\"conteiner--btn\">\n          <button class=\"btn--modal\" name=\"watched\" data-action=\"add-to-watch\">add to Watched</button>\n          <button class=\"btn--modal\" name=\"queve\" data-action=\"queve\">add to queue</button>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    `;\n}\n","export function renderTrendTitle(\n  {\n    title,\n    poster_path,\n    genre_ids,\n    release_date,\n    vote_average,\n    name,\n    first_air_date,\n    id,\n  },\n  genre\n) {\n  const originalName = findTruName(name, title);\n  const getGenre = findIdGenre(genre_ids, genre);\n  const getOriginalDate = findDate(release_date, first_air_date);\n  return `\n  <li class=\"list--title\">\n          <img name=\"${id}\"   src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${originalName}\" />\n        <div class=\"conteiner--image__title\">\n          <p class=\"image--title\">\n            ${originalName} <br /><span class=\"image--text\">\n              ${getGenre} | ${getOriginalDate}\n            </span>\n            <span class=\"rait\">${vote_average.toFixed(2)}</span>\n          </p>\n        </div>\n      </li>\n    `;\n}\n\nfunction findIdGenre(Ids, genre) {\n  const total = parseInt(Ids.join(' '));\n  let ganreName = '';\n  genre.filter(element => {\n    if (element.id === total) {\n      return (ganreName += element.name);\n    }\n  });\n  return ganreName;\n}\n\nfunction findTruName(name, title) {\n  let originalName = '';\n  if (name) {\n    return (originalName = name);\n  }\n  if (title) {\n    return (originalName = title);\n  }\n}\n\nfunction findDate(releaseDate, airDate) {\n  let originalDate = '';\n  if (releaseDate) {\n    return (originalDate = releaseDate);\n  }\n  if (airDate) {\n    return (originalDate = airDate);\n  }\n}\n","export const refs = {\n  title: document.querySelector('#titel-list'),\n  titleLib: document.querySelector('#titel-list-lib'),\n  backDrop: document.querySelector('.backdrop'),\n  btnAddWatched: document.querySelector(\n    'button[data-action=\"add-to-watched-lib\"]'\n  ),\n  btnQueve: document.querySelector('button[data-action=\"queve-lib\"]'),\n};\n","import creteDataLocalSave from './js/library-JS/data_local_storeg';\nimport addToWatchLocaleStorage from './js/library-JS/localStor-addToWatch';\nimport {\n  createResponseTitleTrend,\n  getIdsGenres,\n  getIdMovies,\n} from './js/mainCreateRes';\nimport { renderModal } from './js/renderInfoModal';\nimport { renderTrendTitle } from './js/renderTrendTitle';\nimport { onGetCard } from './js/onOpenModal';\nimport { refs } from './js/refs';\n\nlet genr;\nPromise.all([createResponseTitleTrend(), getIdsGenres()]).then(\n  ([\n    {\n      data: { results },\n    },\n    {\n      data: { genres },\n    },\n  ]) => {\n    genr = genres;\n    results.map(movie => {\n      refs.title.insertAdjacentHTML(\n        'afterbegin',\n        renderTrendTitle(movie, genr)\n      );\n    });\n    onGetCard(results);\n  }\n);\nexport function renderModalMovies(query) {\n  let g = [];\n  getIdMovies(query)\n    .then(({ data }) => {\n      data.genres.filter(item => {\n        g.push(item.name);\n        return g;\n      });\n      refs.backDrop.innerHTML = '';\n      refs.backDrop.insertAdjacentHTML('beforeend', renderModal(data, g));\n      // ===========Loc\n      addToWatchLocaleStorage(creteDataLocalSave(data));\n    })\n    .catch(console.error);\n}\n\n// =================================\n// console.log(createResponse);\n// function reverseStr(arr1, arr2) {\n//   let total = [];\n//   arr1.forEach(item => {\n//     if (arr2.join(' ').includes(item)) {\n//       total.push(item);\n//       return total;\n//     }\n//     return [];\n//   });\n\n//   return total;\n// }\n\n// const a1 = ['arp', 'live', 'strong'];\n// const a2 = ['lively', 'alive', 'harp', 'sharp', 'armstrong'];\n// const b1 = ['tarp', 'mice', 'bull'];\n// const b2 = ['lively', 'alive', 'harp', 'sharp', 'armstrong'];\n// // returns[('arp', 'live', 'strong')];\n\n// console.log(reverseStr(a1, a2));\n// console.log(reverseStr(b1, b2));\n","import { refs } from './refs';\nimport { renderModalMovies } from '../index';\nexport function onGetCard(e) {\n  for (let card of refs.title.children) {\n    card.addEventListener('click', onOpenModal);\n  }\n}\n\nexport function onOpenModal(e) {\n  refs.backDrop.classList.remove('is-hidden');\n  refs.backDrop.addEventListener('click', onClickClose);\n  if (!refs.backDrop.classList.contains('is-hidden')) {\n    onEscapeClose();\n  }\n  if (refs.backDrop.classList.contains('is-hidden')) {\n    refs.backDrop.removeEventListener('click', onClickClose);\n  }\n  renderModalMovies(parseInt(e.target.name));\n}\n\nfunction onClickClose(e) {\n  if (e.target.className === 'backdrop') {\n    refs.backDrop.classList.add('is-hidden');\n  }\n}\n\nexport function onEscapeClose() {\n  window.addEventListener('keydown', onCloseModalEscape, { once: true });\n}\n\nfunction onCloseModalEscape(e) {\n  if (e.code === 'Escape') return refs.backDrop.classList.add('is-hidden');\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","TypeError","$111a013c31e2261e$exports","i","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","parcelRequire","obj","__esModule","$7b4adeca245ad88f$export$2e2bcd8739ae039","data","year","Date","release_date","getFullYear","filmsName","original_title","filmsImg","poster_path","filmRelise","filmGanre","genres","filmRait","vote_average","id","$8nrFW","$6bdaf2af8e7bd1c7$export$69bf191433722f78","param","genr","overview","popularity","vote_count","concat","toFixed","length","$parcel$interopDefault","$ba62a6c77a41d6a0$export$3e93aa5f49b5d203","genre","title","genre_ids","name","first_air_date","originalName","$ba62a6c77a41d6a0$var$findTruName","getGenre","Ids","total","parseInt","join","ganreName","filter","element","$ba62a6c77a41d6a0$var$findIdGenre","getOriginalDate","releaseDate","airDate","$ba62a6c77a41d6a0$var$findDate","$b8f9b7833fa37166$var$genr","$37e33676934ad046$export$21666b427502ea6d","document","querySelector","titleLib","backDrop","btnAddWatched","btnQueve","$3e6386e69ae68f48$export$6bf02933748d023","e","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","children","Symbol","iterator","next","done","addEventListener","$3e6386e69ae68f48$export$256dfc14784e999a","err","return","query","g","classList","remove","$3e6386e69ae68f48$var$onClickClose","contains","window","$3e6386e69ae68f48$var$onCloseModalEscape","once","removeEventListener","target","$gbT2k","getIdMovies","then","item","push","innerHTML","insertAdjacentHTML","$fpFLL","catch","console","error","className","add","code","Promise","all","createResponseTitleTrend","getIdsGenres","results","_param","map","movie"],"version":3,"file":"index.d014d7cc.js.map"}