!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=i);var o={title:document.querySelector("#titel-list"),titleLib:document.querySelector("#titel-list-lib"),backDrop:document.querySelector(".backdrop"),btnAddWatched:document.querySelector('button[data-action="add-to-watched-lib"]'),btnQueve:document.querySelector('button[data-action="queve-lib"]')};function c(t){var e=!0,n=!1,a=void 0;try{for(var i,c=o.titleLib.children[Symbol.iterator]();!(e=(i=c.next()).done);e=!0){i.value.addEventListener("click",l)}}catch(t){n=!0,a=t}finally{try{e||null==c.return||c.return()}finally{if(n)throw a}}}function l(t){o.backDrop.classList.remove("is-hidden"),o.backDrop.addEventListener("click",s),o.backDrop.classList.contains("is-hidden")||window.addEventListener("keydown",r,{once:!0}),o.backDrop.classList.contains("is-hidden")&&o.backDrop.removeEventListener("click",s),L(parseInt(t.target.name))}function s(t){"backdrop"===t.target.className&&o.backDrop.classList.add("is-hidden")}function r(t){if("Escape"===t.code)return o.backDrop.classList.add("is-hidden")}function d(t){return"watched"===t?(o.btnQueve.classList.remove("active"),void o.btnAddWatched.classList.add("active")):"queve"===t?(o.btnAddWatched.classList.remove("active"),void o.btnQueve.classList.add("active")):void 0}function u(t){o.titleLib.innerHTML="";var e=localStorage.getItem(t);JSON.parse(e).map((function(t){var e,n,a,i,l,s,r;o.titleLib.insertAdjacentHTML("beforeend",(n=(e=t).filmsName,a=e.filmsImg,i=e.filmRelise,l=e.filmGanre,s=e.filmRait,r=e.id,'\n  <li class="list--title">\n          <img name="'.concat(r,'" src="https://image.tmdb.org/t/p/w500').concat(a,'" alt="').concat(n,'" />\n        <div class="conteiner--image__title">\n          <p class="image--title">\n            ').concat(n,' <br /><span class="image--text">\n              ').concat(l.name," | ").concat(i,'\n            </span>\n            <span class="rait">').concat(s.toFixed(2),"</span>\n          </p>\n        </div>\n      </li>\n    "))),c()}))}function v(t,e,n){t.addEventListener("click",(function(){var t=[];JSON.parse(localStorage.getItem(n[0])).filter((function(n){if(n.id!==e.id)return t.push(n)})),localStorage.removeItem(n[0]),localStorage.setItem(n[0],JSON.stringify(t)),o.backDrop.classList.add("is-hidden"),u(n[0])}))}function m(t,e,n){t.addEventListener("click",(function(){var t=[];JSON.parse(localStorage.getItem(n[1])).filter((function(n){if(n.id!==e.id)return t.push(n)})),localStorage.removeItem(n[1]),localStorage.setItem(n[1],JSON.stringify(t)),o.backDrop.classList.add("is-hidden"),u(n[1])}))}function p(t,e,n){var a=n.btnWt,i=n.btnQueve,o=n.btnRemoveCard;return JSON.parse(localStorage.getItem(e[0])).map((function(t){return t.id})).includes(t.id)?(i.classList.add("active"),a.classList.add("opaciti"),o.classList.remove("opaciti"),void o.classList.add("remove")):JSON.parse(localStorage.getItem(e[1])).map((function(t){return t.id})).includes(t.id)?(i.classList.add("opaciti"),a.classList.add("active"),o.classList.remove("opaciti"),void o.classList.add("remove")):void 0}function b(t){var e={btnWt:document.querySelector('button[data-action="add-to-watch"]'),btnQueve:document.querySelector('button[data-action="queve"]'),btnRemoveCard:document.querySelector('button[data-action="remove"]')};p(t,Object.keys(localStorage),e),m(e.btnRemoveCard,t,Object.keys(localStorage)),v(e.btnRemoveCard,t,Object.keys(localStorage))}o.btnAddWatched.addEventListener("click",(function(t){d(t.target.name),u(Object.keys(localStorage)[1])})),o.btnQueve.addEventListener("click",(function(t){d(t.target.name),u(Object.keys(localStorage)[0])}));var f=i("gbT2k");i("fpFLL");var g=i("8nrFW");function h(e,n){var a=e.poster_path,i=e.original_title,o=e.overview,c=e.popularity,l=e.vote_average,s=e.vote_count;return'\n  <div class="modal">\n      <svg class="modal--icon"  width="30" height="30" viewBox="0 0 30 30" fill="white" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n            <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n        </svg>\n    <div class="modal--title">\n      <div class="modal--img">\n        <img src="https://image.tmdb.org/t/p/w500'.concat(a,'" alt="').concat(i,'"/>\n      </div>\n      <div class="modal--title__info">\n        <h2 class="title--text">').concat(i,'</h2>\n        <div class="conteiner--modal__list">\n          <ul class="modal--title__list--left">\n            <li class="list--element">\n              <p>Vote / Votes</p>\n            </li>\n            <li class="list--element">\n              <p>Popularity</p>\n            </li>\n            <li class="list--element">\n              <p>Original Title</p>\n            </li>\n            <li class="list--element">\n              <p>Genre</p>\n            </li>\n          </ul>\n          <ul class="modal--title__list--right">\n            <li class="list--element">\n              <p class="element--value"><span class="rait">').concat(l.toFixed(2),"</span> / ").concat(s.toFixed(2),'</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">').concat(c.toFixed(2),'</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">').concat(i,'</p>\n            </li>\n            <li class="list--element">\n              <p class="element--value">').concat(n.length<=2?t(g)(n):[n[0]+" "+n[1]],'</p>\n            </li>\n          </ul>\n        </div>\n        <div class="conteiner--about">\n          <p>ABOUT</p>\n          <p class="about--text">').concat(o,'</p>\n        </div>\n        <div class="conteiner--btn">\n          <button class="btn--modal" name="watched" data-action="add-to-watch">add to Watched</button>\n          <button class="btn--modal" name="queve" data-action="queve">add to queue</button>\n          <button class="btn--modal opaciti" name="remove" data-action="remove">Remove Film</button>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    ')}f=i("gbT2k");function L(t){console.log(t);var e=[];(0,f.getIdMovies)(t).then((function(t){var n=t.data;n.genres.filter((function(t){return e.push(t.name),e})),o.backDrop.innerHTML="",o.backDrop.insertAdjacentHTML("beforeend",h(n,e)),b(n)})).catch(console.error)}}();
//# sourceMappingURL=myLibrary.95940354.js.map
